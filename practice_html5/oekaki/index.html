<!DOCTYPE html>
<html>
<head>
<title>お絵描きデモ</title>
</head>
<body>
	<canvas style="border:solid 1px" ></canvas>
    <button>リセット</button>
	<script src="jquery-1.11.3.min.js"></script>
<script type="text/javascript">
var x=0,y=0,Blush=false;
$(function(){
    $('canvas').get(0).width = $(window).width() -50;
    $('canvas').get(0).height = $(window).height() -50;
    var ctx = $('canvas').get(0).getContext('2d');
 	$('body,html').bind("mousemove touchmove", function(event){
        var mouseX = event.type == "touchmove"?event.originalEvent.changedTouches[0].pageX:event.pageX;
        var mouseY = event.type == "touchmove"?event.originalEvent.changedTouches[0].pageY:event.pageY;
        if(Blush){
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(mouseX, mouseY);
            ctx.stroke();
        }
        x =mouseX;
        y =mouseY;
    });
	$('body,html').bind("mousedown touchstart",function(){
        Blush=true;
    });
	$('body,html').bind("mouseup touchend",function(){
        Blush=false;
    });
    $('button').click(function(){
        ctx.fillStyle = "rgb(255, 255, 255)";
        ctx.fillRect(0, 0, 
            $('canvas').get(0).width,
            $('canvas').get(0).height);
    });
});
</script>
</body>
</html>