<!DOCTYPE html>
<html>
<head>
<title>お絵描きデモ</title>
</head>
<body>
	<canvas width="320" height="480"></canvas>
	<script src="jquery-1.11.3.min.js"></script>
<script type="text/javascript">
var x=0,y=0,Blush=false;
$(function(){
    var ctx = $('canvas').get(0).getContext('2d');
 	$('body,html').bind("mousemove touchmove", function(event){
        var mouseX = event.type == "touchmove"?event.originalEvent.changedTouches[0].pageX:event.pageX;
        var mouseY = event.type == "touchmove"?event.originalEvent.changedTouches[0].pageY:event.pageY;
        if(Blush){
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(mouseX, mouseY);
            ctx.stroke();
        }
        x =mouseX;
        y =mouseY;
    });
	$('body,html').bind("mousedown touchstart",function(){
        Blush=true;
    });
	$('body,html').bind("mouseup touchend",function(){
        Blush=false;
    });
});
</script>
</body>
</html>